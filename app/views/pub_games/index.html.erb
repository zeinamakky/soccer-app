<!-- <div ng-app="app">
  <div ng-controller="pubGamesCtrl" ng-init="setup()">

    <h2>Filter by team: <input ng-model="teamFilter" list="teams"></h2>
    <h2>Filter by league: <input ng-model="leagueFilter" list="leagues"></h2>
    <h2>Filter by pub: <input ng-model="pubFilter" list="pubs"></h2>
    <h2>Filter by date: <input ng-model="dateFilter" list="dates"></h2>
    
    <datalist id="teams">
      <option ng-repeat="match in ligue1Matches">{{match.team}}</option>
    </datalist>

    <datalist id="leagues">
      <option ng-repeat="match in ligue1Matches">{{match.league}}</option>
    </datalist>

    <datalist id="pubs">
      <option ng-repeat="match in ligue1Matches">{{match.pub}}</option>
    </datalist>
    <datalist id="dates">
      <option ng-repeat="match in ligue1Matches">{{match.date}}</option>
    </datalist>

    <div class="match" ng-repeat="match in ligue1Matches">
    </div>

 -->
<h1>Upcoming Games Showing at Pubs</h1>
 
<!-- <div ng-app="app">
  <div ng-controller="gamesCtrl" ng-init="setup()">
    <div ng-repeat="pub_game in pub_games">
    {{pub_game.}}

    </div>
  </div>
</div> -->

<% @pub_games.each do |game| %>
  <h3><%= image_tag(@team.find_by(name: game.home_team_name).icon, class: "team-icon") %>
  <%= game.home_team_name %> vs <%= game.away_team_name %>
  
  <%= image_tag(@team.find_by(name: game.away_team_name).icon, class: "team-icon") %>
  </h3>

    <p><b>Date:</b> <%= game.date.strftime("%A, %d %b %Y") %> at <%= game.date.in_time_zone("Central Time (US & Canada)").strftime("%l:%M %p") %></p>
    
    <h5>Showing at the following pubs:</h5>
    <% game.pubs.each do |pub|%>
      <%= pub.name %>, <%= pub.city %>
    <%end%>
    <hr>
<%end %>